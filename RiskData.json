"Initial Request"

curl --location 'https://api.sandbox.bureau.id/transactions' \
--header 'Content-Type: application/json' \
--header 'Authorization: Basic ZDdkZDIxxxxxxxJjZDljYTdhZA==' \
--data-raw '{
    "workflowId": "1111zzzz-1111-1aa1-8a08-a1a085aebb9b",
    "data": {
        "email": "user@gmail.com",
        "name": "User Name",
        "phoneNumber": "919999999999",
        "countryCode": "IND",
        "derivedSignals":true,
        "enhancedCoverage":true
    }
}'

// UnAuthorized (401)
{
  "data": "string",
  "errors": {
    "status": 401,
    "errorCode": "UNAUTHORIZED",
    "service": "Overwatch"
  },
  "message": " ",
  "meta": {
    "length": 0,
    "took": 0,
    "total": 0
  }
}

// INTERNAL_SERVICE_UNAVAILABLE || NO_RECORD_FOUND (503)
{
  "errors": {
    "code": 503,
    "description": " ",
    "message": "INTERNAL_SERVICE_UNAVAILABLE",
    "metadata": " ",
    "referenceId": "b090f2a1-ebf4-4fdc-bcdc-296cfc7e4ea1",
    "type": "NO_RECORD_FOUND"
  },
  "merchantId": "auth0|61df1111107111021",
  "requestId": "d46ff15d-1111-4568-1111-b21bbdd3962f",
  "statusCode": 503,
  "timestamp": 1657794502770
}

// transactionId (200)
{
    "statusCode": 200,
    "error": "",
    "status": "AWAITING",
    "timestamp": 1684999151234,
    "transactionId": "c7f3b313-1111-1111-aaaa-12ca28f7e68e",
    "merchantId": "auth0|61dfbb6dfd33420071be7021",
    "entityId": "32b86cfb-1991-44f5-9f57-8e4385d8861a",
    "entityType": "",
    "workflowId": "30f4a31f-aaaa-11aa-11aa-a1a085aebb9b",
    "entityName": "User Name",
    "workflowName": "Test-alternate-score",
    "tags": {},
    "outcome": "AWAITING",
    "transactionTimeline": [
        {
            "index": 1,
            "updatedAt": 1684999151234,
            "updatedBy": "",
            "outcome": "AWAITING",
            "comments": ""
        }
    ],
    "services": {
        "Email Attributes": {
            "status": "NOT_EXECUTED",
            "response": null
        },
        "Email Name Attributes": {
            "status": "NOT_EXECUTED",
            "response": null
        },
        "Email Social Basic Report": {
            "status": "PENDING",
            "response": {
                "amazon": null,
                "awaitedOnThis": true,
                "email": null,
                "error": null,
                "flipkart": null,
                "instagram": null,
                "paytm": null,
                "referenceId": null
            }
        },
        "Email Social Basic Submit": {
            "status": "OK",
            "response": {
                "conditionsEvaluationStatus": true,
                "error": null,
                "referenceId": "85d31f1c-a222-4caf-9323-b6f7e75377de",
                "status": "OK"
            }
        },
        "Mobile Network Intelligence (Without Consent)": {
            "status": "NOT_EXECUTED",
            "response": null
        },
        "Phone Name Attributes": {
            "status": "NOT_EXECUTED",
            "response": null
        },
        "Phone Social Basic Report": {
            "status": "NOT_EXECUTED",
            "response": null
        },
        "Phone Social Basic Submit": {
            "status": "NOT_EXECUTED",
            "response": null
        },
        "Risk Model": {
            "status": "NOT_EXECUTED",
            "response": null
        }
    },
    "awaits": {
        "Email Social Basic Report": {
            "status": "PENDING",
            "response": {
                "awaitedOnThis": true,
                "data": []
            }
        }
    },
    "outcomeReasons": [],
    "transactionRawInput": {
        "countryCode": "IND",
        "derivedSignals": true,
        "email": "user@gmail.com",
        "name": "User Name",
        "phoneNumber": "919999999999"
    },
    "documents": [],
    "devices": []
}

// Fetch request with the transaction ID
curl --location 'https://api.sandbox.bureau.id/transactions' \
--header 'Content-Type: application/json' \
--header 'Authorization: Basic ZDdkZDIxxxxxxxJjZDljYTdhZA==' \
--data-raw '{
    "workflowId": "1111zzzz-1111-1aa1-8a08-a1a085aebb9b",
    "transactionId": "c7f3b313-11aa-1a11-a111-12ca28f7e68e",
    "data": {
        "email": "user@gmail.com",
        "name": "User Name",
        "phoneNumber": "919999999999",
        "countryCode": "IND",
        "derivedSignals":true,
        "enhancedCoverage":true
    }
}'

// 200
{
    "statusCode": 200,
    "error": "",
    "status": "OK",
    "timestamp": 1685004095033,
    "transactionId": "b6819bf9-a1aa-a11a-a11a-e7bb7ae2cd07",
    "merchantId": "auth0|61dfbb6dfd33420071be7021",
    "entityId": "82911714-111a-1111-1111-faa21e748341",
    "entityType": "",
    "workflowId": "30f4a31f-1111-11a1-1a11-a1a085aebb9b",
    "entityName": "User Name",
    "workflowName": "Test-alternate-score",
    "tags": {},
    "outcome": "ACCEPTED",
    "transactionTimeline": [
        {
            "index": 1,
            "updatedAt": 1685004095033,
            "updatedBy": "",
            "outcome": "ACCEPTED",
            "comments": ""
        }
    ],
    "services": {
        "Email Attributes": {
            "status": "OK",
            "response": {
                "conditionsEvaluationStatus": true,
                "digitalAge": 6,
                "domainExists": true,
                "domainRiskLevel": "Moderate",
                "domaincategory": "Webmail",
                "domaincorporate": "No",
                "emailExists": true,
                "emailFinalRecommendation": "No Data",
                "error": null,
                "firstVerificationDate": "2023-05-18T07:30:32Z",
                "footprint": "NO_RECORDS",
                "lastVerificationDate": "2023-05-18T07:30:32Z",
                "status": "OK",
                "uniqueHits": 1
            }
        },
        "Email Name Attributes": {
            "status": "OK",
            "response": {
                "address": null,
                "businessNameDetected": false,
                "conditionsEvaluationStatus": true,
                "digitalage": -1,
                "emailDigits": 4,
                "emailFootprintStrength": "",
                "emailNameDigitalAge": -1,
                "emailSpclChars": 0,
                "error": null,
                "firstNameMatch": false,
                "lastNameMatch": false,
                "multiplePhoneAttached": false,
                "nameEmailMatch": -1,
                "nameMatchScore": 0,
                "ndrScore": -1,
                "phoneNumber": -1,
                "status": "OK",
                "unrScore": -1
            }
        },
        "Email Social Basic Report": {
            "status": "OK",
            "response": {
                "amazon": "Account Found",
                "awaitedOnThis": false,
                "email": "user@gmail.com",
                "error": null,
                "flipkart": "Account Found",
                "instagram": "Account Found",
                "paytm": "Account Found",
                "referenceId": "ad40658c-5fc0-4325-b6ae-c5221c75501f"
            }
        },
        "Email Social Basic Submit": {
            "status": "OK",
            "response": {
                "conditionsEvaluationStatus": true,
                "error": null,
                "referenceId": "ad40658c-5fc0-4325-b6ae-c5221c75501f",
                "status": "OK"
            }
        },
        "Mobile Network Intelligence (Without Consent)": {
            "status": "OK",
            "response": {
                "conditionsEvaluationStatus": true,
                "currentNetworkCountryCodeIso2": null,
                "currentNetworkName": "Reliance Jio",
                "currentNetworkRegion": "Gujarat",
                "error": null,
                "imsi": "4058575280",
                "isPhoneReachable": true,
                "isValidPhoneNumber": true,
                "numberBillingType": "prepaid",
                "numberHasPortingHistory": true,
                "portedFromNetworkCountryCodeIso2": null,
                "portedFromNetworkName": "Airtel",
                "portedFromNetworkRegion": "Gujarat",
                "roaming": false,
                "roamingNetworkCountryCodeIso2": null,
                "roamingNetworkName": null,
                "roamingNetworkRegion": null,
                "status": "OK"
            }
        },
        "Phone Name Attributes": {
            "status": "OK",
            "response": {
                "address": "",
                "businessNameDetected": false,
                "conditionsEvaluationStatus": true,
                "digitalage": 1556,
                "error": null,
                "firstNameMatch": true,
                "lastNameMatch": true,
                "nameMatchScore": 100,
                "ndrScore": 1,
                "phoneFootprintStrengthOverall": "Low",
                "phoneNameDigitalAge": -1,
                "status": "OK",
                "unrScore": 0
            }
        },
        "Phone Social Basic Report": {
            "status": "OK",
            "response": {
                "amazon": "Error",
                "awaitedOnThis": false,
                "error": null,
                "flipkart": "Account Found",
                "instagram": "Account Not Found",
                "isWhatsappBusiness": null,
                "mobile": "9999999999",
                "paytm": "Account Found",
                "referenceId": "36c0c803-6744-4f90-8c08-60a4222cbf7a",
                "whatsapp": "Account Found"
            }
        },
        "Phone Social Basic Submit": {
            "status": "OK",
            "response": {
                "conditionsEvaluationStatus": true,
                "error": null,
                "referenceId": "36c0c803-6744-4f90-8c08-60a4222cbf7a",
                "status": "OK"
            }
        },
        "Risk Model": {
            "status": "OK",
            "response": {
                "address1": "",
                "address2": "",
                "addressCompletenessScore": 0,
                "addressInsights": "Unit/Rooftop information ambiguous or not found\nArea or society name ambiguous or not found\nStreet name ambiguous or not found\nLandmark name ambiguous or not found",
                "addressRisk": "High",
                "alternateRiskScore": 57.47126436781605,
                "areaName": [],
                "areaPincode": [],
                "cityName": [],
                "conditionsEvaluationStatus": true,
                "digitalFootprint": "High",
                "emailUNRScore": 0,
                "error": null,
                "identityConfidence": "High",
                "landmark": [],
                "message": "Success",
                "negativeInsights": [
                    "Address seems to be incomplete.",
                    "Email may not belong to the same person, does not match partially with name."
                ],
                "phoneUNRScore": 0,
                "positiveInsights": [
                    "Person's name matched against multiple sources.",
                    "Person's has significant internet presence.",
                    "Person has high social media presence.",
                    "Person's name matches against bank records."
                ],
                "responseStatusCode": 200,
                "societyName": [],
                "stateName": [],
                "status": "OK",
                "streetName": [],
                "telecomRisk": "Low",
                "unit": [],
                "upiPhoneNameMatch": 1,
                "upiPhoneNameMatchScore": 100
            }
        }
    },
    "awaits": {
        "Email Social Basic Report": {
            "status": "OK",
            "response": {
                "awaitedOnThis": false,
                "data": []
            }
        },
        "Phone Social Basic Report": {
            "status": "OK",
            "response": {
                "awaitedOnThis": false,
                "data": []
            }
        }
    },
    "outcomeReasons": [],
    "transactionRawInput": {
        "countryCode": "IND",
        "derivedSignals": true,
        "email": "user@gmail.com",
        "name": "User Name",
        "phoneNumber": "919999999999"
    },
    "documents": [],
    "devices": []
}